{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport axios from 'axios';\nimport WeaponShop from './WeaponShop.vue';\nimport SkillShop from './SkillShop.vue';\nimport TankImage from './TankImage.vue';\nexport default {\n  __name: 'PlayerShopCard',\n  props: {\n    player_id: {\n      type: Number,\n      default: 0\n    },\n    side: {\n      type: String,\n      default: \"l\"\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n\n    // Reactive reference to hold player data\n    const player = ref(null);\n    const svg = ref(null);\n\n    // Function to fetch player data\n    async function fetchPlayerData(playerId) {\n      try {\n        const response = await axios.get(`http://localhost:8000/player/${playerId}`);\n        player.value = response.data; // Set player data\n      } catch (error) {\n        console.error('Error fetching player data:', error);\n      }\n    }\n    async function fetchTankData(playerId) {\n      try {\n        const response = await axios.get(`http://localhost:8000/player/${playerId}/tank`);\n        svg.value = response.data; // Set the SVG data\n      } catch (error) {\n        console.error('Error fetching tank data:', error);\n      }\n    }\n\n    // Lifecycle hook to fetch player data when the component is mounted\n    onMounted(() => {\n      // Change this to the desired player ID\n      fetchPlayerData(props.player_id);\n      fetchTankData(props.player_id);\n    });\n    const __returned__ = {\n      props,\n      player,\n      svg,\n      fetchPlayerData,\n      fetchTankData,\n      ref,\n      onMounted,\n      get axios() {\n        return axios;\n      },\n      WeaponShop,\n      SkillShop,\n      TankImage\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","WeaponShop","SkillShop","TankImage","props","__props","player","svg","fetchPlayerData","playerId","response","get","value","data","error","console","fetchTankData","player_id"],"sources":["/home/antiphy/ITU/ITU_project/src/components/Shop/PlayerShopCard.vue"],"sourcesContent":["<script setup>\nimport {defineProps, ref, onMounted} from 'vue';\nimport axios from 'axios';\nimport WeaponShop from './WeaponShop.vue';\nimport SkillShop from './SkillShop.vue';\nimport TankImage from './TankImage.vue';\n\nconst props = defineProps({\n  player_id:{\n    type: Number,\n    default: 0\n  },\n  side:{\n    type: String,\n    default: \"l\"\n  }\n});\n\n// Reactive reference to hold player data\nconst player = ref(null);\nconst svg = ref(null)\n\n// Function to fetch player data\nasync function fetchPlayerData(playerId) {\n  try {\n    const response = await axios.get(`http://localhost:8000/player/${playerId}`);\n    player.value = response.data; // Set player data\n  } catch (error) {\n    console.error('Error fetching player data:', error);\n  }\n}\n\nasync function fetchTankData(playerId){\n      try {\n        const response = await axios.get(`http://localhost:8000/player/${playerId}/tank`);\n        svg.value = response.data; // Set the SVG data\n      } catch (error) {\n        console.error('Error fetching tank data:', error);\n      }\n}\n\n// Lifecycle hook to fetch player data when the component is mounted\nonMounted(() => {\n   // Change this to the desired player ID\n  fetchPlayerData(props.player_id);\n  fetchTankData(props.player_id);\n});\n\n\n\n</script>\n<template>\n    \n        <div class=\"flex flex-col justify-center items-center\">\n          <div v-if=\"props.side == 'l'\" class=\"flex flex-col justify-between h-52 w-full\">\n            <div class=\"text-6xl font-black self-center\">\n              {{ player ? player.name : 'Loading...' }}\n            </div>\n            <TankImage :svg=\"svg\" class=\"self-end \"></TankImage>\n          </div>\n          <div v-else class=\"flex flex-col-reverse justify-between h-52 w-full\">\n            <TankImage :svg=\"svg\" class=\"self-start flip\"></TankImage>    \n            <div class=\"text-6xl font-black self-center\">\n              {{ player ? player.name : 'Loading...' }}\n            </div>\n          </div>\n\n            <div v-if=\"player\">\n                <WeaponShop class=\"mb-14\" :weapon=\"player.weapon\" :weapon1=\"player.weapon1\" :weapon2=\"player.weapon2\" :weapon3=\"player.weapon3\" :cash=\"player.money\" ></WeaponShop>\n                <SkillShop  :armor=\"player.armor\" :power=\"player.power\" :speed=\"player.speed\" :skillPoints=\"player.skillPoints\"></SkillShop>\n                \n            </div>\n            <div v-else>Loading player data...</div>\n        </div>\n</template>\n\n<style scoped>\n/* CSS to flip the div along the Y-axis */\n.flip {\n  transform: scaleX(-1);\n  /* Optional: If you want to maintain the same direction of text */\n  direction: rtl; \n}\n</style>"],"mappings":"AACA,SAAqBA,GAAG,EAAEC,SAAS,QAAO,KAAK;AAC/C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,kBAAkB;AACzC,OAAOC,SAAS,MAAM,iBAAiB;AACvC,OAAOC,SAAS,MAAM,iBAAiB;;;;;;;;;;;;;;;;;IAEvC,MAAMC,KAAK,GAAGC,OASZ;;IAEF;IACA,MAAMC,MAAM,GAAGR,GAAG,CAAC,IAAI,CAAC;IACxB,MAAMS,GAAG,GAAGT,GAAG,CAAC,IAAI;;IAEpB;IACA,eAAeU,eAAeA,CAACC,QAAQ,EAAE;MACvC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,gCAAgCF,QAAQ,EAAE,CAAC;QAC5EH,MAAM,CAACM,KAAK,GAAGF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD;IACF;IAEA,eAAeE,aAAaA,CAACP,QAAQ,EAAC;MAChC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,gCAAgCF,QAAQ,OAAO,CAAC;QACjFF,GAAG,CAACK,KAAK,GAAGF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAC7B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACN;;IAEA;IACAf,SAAS,CAAC,MAAM;MACb;MACDS,eAAe,CAACJ,KAAK,CAACa,SAAS,CAAC;MAChCD,aAAa,CAACZ,KAAK,CAACa,SAAS,CAAC;IAChC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}