{"ast":null,"code":"import Settings from '../components/Settings/Settings.vue';\nimport axios from 'axios';\nexport default {\n  name: 'MainPage',\n  components: {\n    Settings\n  },\n  props: {\n    gameWidth: Number,\n    gameHeight: Number\n  },\n  data() {\n    return {\n      wins: 5,\n      timer: false,\n      // Timer setting for custom mode\n      customModeSetting: false,\n      isSettingsVisible: false,\n      // Controls whether the modal is visible\n      isGameModesVisible: false,\n      // Controls whether the game modes modal is visible\n      isMuted: true,\n      // Controls whether the background music is muted\n      // soundEffectsVolume: 50,     // Default value for sound effects slider\n      // buttonSoundSrc: \"/assets/another-one.mp3\",  // Path to button click sound\n      // Array of cloud properties for dynamic rendering\n      clouds: [{\n        src: '/assets/cloud.png',\n        class: 'cloud',\n        style: 'top: 70px; animation-duration: 20s;'\n      }, {\n        src: '/assets/cloud.png',\n        class: 'cloud',\n        style: 'top: -10px; animation-duration: 30s;'\n      }, {\n        src: '/assets/cloud.png',\n        class: 'cloud',\n        style: 'top: 150px; animation-duration: 35s;'\n      }, {\n        src: '/assets/cloud.png',\n        class: 'cloud',\n        style: 'top: 170px; animation-duration: 25s;'\n      }, {\n        src: '/assets/cloud.png',\n        class: 'cloud',\n        style: 'top: 50px; animation-duration: 40s;'\n      }, {\n        src: '/assets/cloud.png',\n        class: 'cloud',\n        style: 'top: 120px; animation-duration: 27s;'\n      }, {\n        src: '/assets/cloud.png',\n        class: 'cloud',\n        style: 'top: 180px; animation-duration: 23s;'\n      }, {\n        src: '/assets/cloud.png',\n        class: 'cloud',\n        style: 'top: 80px; animation-duration: 22s;'\n      }, {\n        src: '/assets/cloud.png',\n        class: 'cloud',\n        style: 'top: 60px; animation-duration: 34s;'\n      }, {\n        src: '/assets/cloud.png',\n        class: 'cloud',\n        style: 'top: 130px; animation-duration: 28s;'\n      }]\n    };\n  },\n  async mounted() {\n    // set initial music volume to 50%\n    try {\n      await axios.post(`http://localhost:8000/settings/musicVolume?volume=50`);\n    } catch (error) {\n      console.error(error);\n    }\n    // emit the initial mute state\n    this.emitMute();\n  },\n  methods: {\n    // background music\n    playMusic() {\n      if (!this.isMuted) this.$emit('playMusic');\n    },\n    updateMusicVolume(volume) {\n      this.isMuted = volume === 0;\n      this.emitMute();\n      this.$emit('updateMusicVolume', volume);\n    },\n    toggleMute() {\n      this.isMuted = !this.isMuted;\n      this.emitMute();\n    },\n    emitMute() {\n      this.$emit('toggleMute', this.isMuted);\n    },\n    decreaseWins() {\n      if (this.wins > 1) {\n        this.wins--;\n      }\n    },\n    increaseWins() {\n      this.wins++;\n    },\n    showSettings() {\n      this.isSettingsVisible = true;\n    },\n    hideSettings() {\n      this.isSettingsVisible = false;\n    },\n    showGameModes() {\n      this.isGameModesVisible = true;\n    },\n    hideGameModes() {\n      this.customModeSetting = false;\n      this.isGameModesVisible = false;\n    },\n    async submitClassicMode() {\n      try {\n        await axios.post('http://localhost:8000/game/mode?mode=classic');\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async submitCustomMode() {\n      try {\n        await axios.post(`http://localhost:8000/game/mode?mode=custom&timer=${this.timer}&wins=${this.wins}`);\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    getCloudStyle(index) {\n      const baseStyle = this.clouds[index].style;\n      const zIndex = index % 2 === 0 ? 1 : 40; // Set z-index based on even or odd index\n      return `${baseStyle} z-index: ${zIndex};`;\n    }\n  }\n};","map":{"version":3,"names":["Settings","axios","name","components","props","gameWidth","Number","gameHeight","data","wins","timer","customModeSetting","isSettingsVisible","isGameModesVisible","isMuted","clouds","src","class","style","mounted","post","error","console","emitMute","methods","playMusic","$emit","updateMusicVolume","volume","toggleMute","decreaseWins","increaseWins","showSettings","hideSettings","showGameModes","hideGameModes","submitClassicMode","submitCustomMode","getCloudStyle","index","baseStyle","zIndex"],"sources":["/home/antiphy/ITU/ITU_project/src/views/MainPage.vue"],"sourcesContent":["<template>\n  <div\n    @click=\"playMusic\"\n    class=\"relative flex flex-col justify-center items-center overflow-hidden bg-cover bg-center\"\n    :style=\"{ width: `${gameWidth}px`, height: `${gameHeight}px`, backgroundImage: `url('/assets/bg.png')` }\"\n  >\n     <!-- mute button-->\n     <button\n      @click=\"toggleMute\"\n      class=\"absolute top-4 right-4 bg-sky-300 rounded-full p-2 shadow-lg z-50 hover:bg-sky-400 transition\"\n    >\n      <img\n        :src=\"isMuted ? '/assets/mute.png' : '/assets/unmute.png'\"\n        alt=\"Mute Toggle\"\n        class=\"w-6 h-6\"\n      />\n    </button>\n\n    <!-- Multiple Clouds Moving Across the Background -->\n    <img v-for=\"(cloud, index) in clouds\" :key=\"index\" :src=\"cloud.src\" :class=\"cloud.class\" @click=\"playButtonSound\" :style=\"getCloudStyle(index)\" />\n\n    <div>\n      <h1 class=\"relative text-7xl font-bold mb-8 z-10\">\n        TANKS\n        <p class=\"absolute -bottom-4 -right-6 text-xl\">1v1</p>\n      </h1>\n    </div>\n\n    <!-- Menu Buttons -->\n    <div class=\"flex flex-col justify-center gap-3 z-10\">\n      <button @click=\"showGameModes\" class=\"border-4 border-sky-700 text-center bg-sky-300 hover:bg-sky-400 font-bold text-xl py-4 px-32 rounded-2xl\">\n        START GAME\n      </button>\n      <router-link to=\"/game\" class=\"border-4 border-sky-700 text-center bg-sky-300 hover:bg-sky-400 font-bold text-xl py-4 px-32 rounded-2xl\">\n        TUTORIAL\n      </router-link>\n      <router-link to=\"/mapCreator\" class=\"border-4 border-sky-700 text-center bg-sky-300 hover:bg-sky-400 font-bold text-xl py-4 px-32 rounded-2xl\">\n        CREATE MAP\n      </router-link>\n      <button @click=\"showSettings\" class=\"border-4 border-sky-700 text-center bg-sky-300 hover:bg-sky-400 font-bold text-xl py-4 px-32 rounded-2xl\">\n        SETTINGS\n      </button>\n    </div>\n\n    <!-- Game Modes Modal -->\n    <div v-if=\"isGameModesVisible\" @click=\"hideGameModes\" class=\"fixed inset-0 flex items-center justify-center gap-20 bg-black bg-opacity-50 z-50\">\n      <router-link @click.stop=\"submitClassicMode\" to=\"/chooseTanks\" class=\"text-3xl font-bold bg-white p-8 rounded-lg shadow-2xl hover:bg-gray-100 w-96 h-48 flex items-center justify-center\">\n        Classic mode\n      </router-link>\n      <div\n        v-if=\"!customModeSetting\"\n        @click.stop\n        @mouseenter=\"customModeSetting = true\"\n        class=\"text-3xl font-bold bg-white rounded-lg shadow-2xl hover:bg-gray-100 w-96 h-48 flex items-center justify-center\"\n        key=\"mode1\"\n      >\n        Custom mode\n      </div>\n      <div\n        v-else\n        @click.stop\n        class=\"relative h-48 w-96 bg-white p-8 rounded-lg shadow-2xl flex flex-col gap-2 items-center justify-center hover:bg-gray-100\"\n        key=\"mode2\"\n      >\n        <p class=\"absolute top-4 left-1/4 text-3xl font-bold\">Custom mode</p>\n\n        <div class=\"flex self-start items-center px-4 mt-10 gap-8\">\n          <label for=\"timer\" class=\"text-xl font-semibold pr-10\">Timer</label>\n          <input\n            id=\"timer\"\n            type=\"checkbox\"\n            class=\"form-checkbox h-6 w-6 text-blue-600 border-gray-300 rounded focus:ring focus:ring-blue-200 focus:ring-opacity-50 hover:border-blue-500\"\n            v-model=\"timer\"\n          />\n        </div>\n\n        <div class=\"flex self-start items-center px-4 mb-4 gap-2\">\n          <label for=\"wins\" class=\"text-xl font-semibold pr-8\">Wins</label>\n\n          <!-- Left Button to Decrease -->\n          <button\n            @click=\"decreaseWins\"\n            class=\"bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-1 px-2 rounded-lg\"\n          >\n            &#9664;\n          </button>\n\n          <!-- Display Number of Wins -->\n          <div class=\"text-2xl font-bold w-8 text-center\">\n            {{ wins }}\n          </div>\n\n          <!-- Right Button to Increase -->\n          <button\n            @click=\"increaseWins\"\n            class=\"bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-1 px-2 rounded-lg\"\n          >\n            &#9654;\n          </button>\n        </div>\n\n        <!-- Go Button -->\n        <router-link\n          to=\"/chooseTanks\"\n          @click=\"submitCustomMode\"\n          class=\"absolute bottom-1 right-1 font-bold border-4 border-sky-700 text-center bg-sky-300 hover:bg-sky-400 text-xl py-2 px-6 rounded-2xl mt-4 transition duration-300\"\n        >\n          GO!\n        </router-link>\n      </div>\n    </div>\n\n    <!-- Modal Window -->\n    <div v-if=\"isSettingsVisible\" class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\">\n      <Settings @hideSettings=\"hideSettings\" @updateMusicVolume=\"updateMusicVolume\" />\n    </div>\n\n    <!-- Audio Element for Button Click Sound -->\n    <!-- <audio ref=\"buttonSound\" :src=\"buttonSoundSrc\" preload=\"auto\"></audio> -->\n    <footer class=\"absolute bottom-4 left-4 text-gray-700 text-sm z-10\">Â© Rogalo 2024</footer>\n  </div>\n\n</template>\n\n<script>\nimport Settings from '../components/Settings/Settings.vue';\nimport axios from 'axios';\n\nexport default {\n  name: 'MainPage',\n  components: {\n    Settings,\n  },\n  props: {\n    gameWidth: Number,\n    gameHeight: Number,\n  },\n  data() {\n    return {\n      wins: 5,\n      timer: false,               // Timer setting for custom mode\n      customModeSetting: false,\n      isSettingsVisible: false,   // Controls whether the modal is visible\n      isGameModesVisible: false,  // Controls whether the game modes modal is visible\n      isMuted: true,             // Controls whether the background music is muted\n      // soundEffectsVolume: 50,     // Default value for sound effects slider\n      // buttonSoundSrc: \"/assets/another-one.mp3\",  // Path to button click sound\n      // Array of cloud properties for dynamic rendering\n      clouds: [\n        { src: '/assets/cloud.png', class: 'cloud', style: 'top: 70px; animation-duration: 20s;' },\n        { src: '/assets/cloud.png', class: 'cloud', style: 'top: -10px; animation-duration: 30s;' },\n        { src: '/assets/cloud.png', class: 'cloud', style: 'top: 150px; animation-duration: 35s;' },\n        { src: '/assets/cloud.png', class: 'cloud', style: 'top: 170px; animation-duration: 25s;' },\n        { src: '/assets/cloud.png', class: 'cloud', style: 'top: 50px; animation-duration: 40s;' },\n        { src: '/assets/cloud.png', class: 'cloud', style: 'top: 120px; animation-duration: 27s;' },\n        { src: '/assets/cloud.png', class: 'cloud', style: 'top: 180px; animation-duration: 23s;' },\n        { src: '/assets/cloud.png', class: 'cloud', style: 'top: 80px; animation-duration: 22s;' },\n        { src: '/assets/cloud.png', class: 'cloud', style: 'top: 60px; animation-duration: 34s;' },\n        { src: '/assets/cloud.png', class: 'cloud', style: 'top: 130px; animation-duration: 28s;' },\n      ],\n    };\n  },\n  async mounted() {\n    // set initial music volume to 50%\n    try {\n      await axios.post(`http://localhost:8000/settings/musicVolume?volume=50`);\n    } catch (error) {\n      console.error(error);\n    }\n    // emit the initial mute state\n    this.emitMute();\n  },\n  methods: {\n    // background music\n    playMusic() {\n      if (!this.isMuted)\n      this.$emit('playMusic');\n    },\n    updateMusicVolume(volume) {\n      this.isMuted = volume === 0;\n      this.emitMute();\n      this.$emit('updateMusicVolume', volume);\n    },\n    toggleMute() {\n      this.isMuted = !this.isMuted;\n      this.emitMute();\n    },\n    emitMute() {\n      this.$emit('toggleMute', this.isMuted);\n    },\n\n    decreaseWins() {\n      if (this.wins > 1) {\n        this.wins--;\n      }\n    },\n    increaseWins() {\n      this.wins++;\n    },\n    showSettings() {\n      this.isSettingsVisible = true;\n    },\n    hideSettings() {\n      this.isSettingsVisible = false;\n    },\n    showGameModes() {\n      this.isGameModesVisible = true;\n    },\n    hideGameModes() {\n      this.customModeSetting = false;\n      this.isGameModesVisible = false;\n    },\n\n    async submitClassicMode() {\n      try {\n        await axios.post('http://localhost:8000/game/mode?mode=classic');\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async submitCustomMode() {\n      try {\n        await axios.post(`http://localhost:8000/game/mode?mode=custom&timer=${this.timer}&wins=${this.wins}`);\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    getCloudStyle(index) {\n      const baseStyle = this.clouds[index].style;\n      const zIndex = index % 2 === 0 ? 1 : 40;  // Set z-index based on even or odd index\n      return `${baseStyle} z-index: ${zIndex};`;\n    }\n  },\n};\n</script>\n\n<style scoped>\n/* Cloud Animation */\n.cloud {\n  position: absolute;\n  width: 200px; /* Adjust size */\n  left: -150px; /* Start off-screen on the left */\n  animation: moveCloud linear infinite;\n  opacity: 85%;\n}\n\n@keyframes moveCloud {\n  0% {\n    transform: translateX(0);\n  }\n  100% {\n    transform: translateX(120vw); /* Move to the right, off-screen */\n  }\n}\n\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}