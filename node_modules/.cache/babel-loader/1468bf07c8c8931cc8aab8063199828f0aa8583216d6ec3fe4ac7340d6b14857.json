{"ast":null,"code":"import { ref } from 'vue';\nimport WeaponShopItem from './WeaponShopItem.vue';\nexport default {\n  __name: 'WeaponShop',\n  props: {\n    weapon1: {\n      type: Number,\n      default: 0\n    },\n    weapon2: {\n      type: Number,\n      default: 0\n    },\n    weapon3: {\n      type: Number,\n      default: 0\n    },\n    cash: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const cash = ref(props.cash);\n    const spentCash = ref(0);\n    const showSpent = ref(false);\n    const shakeCash = ref(false); // New state for shaking cash display\n\n    function updateCash(price) {\n      // Check if price is greater than the available cash\n      if (price > cash.value) {\n        shakeCash.value = true; // Trigger shake animation\n        setTimeout(() => {\n          shakeCash.value = false; // Reset after shaking\n        }, 800); // Duration matches the shake animation\n        return; // Exit the function if cash is insufficient\n      }\n\n      // Update cash and spent cash\n      cash.value -= price;\n      spentCash.value = price;\n      showSpent.value = true;\n      setTimeout(() => {\n        showSpent.value = false;\n      }, 1000); // Duration for spent cash display\n    }\n    const __returned__ = {\n      props,\n      cash,\n      spentCash,\n      showSpent,\n      shakeCash,\n      updateCash,\n      ref,\n      WeaponShopItem\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","WeaponShopItem","props","__props","cash","spentCash","showSpent","shakeCash","updateCash","price","value","setTimeout"],"sources":["/home/antiphy/ITU/ITU_project/src/components/Shop/WeaponShop.vue"],"sourcesContent":["<script setup>\nimport { ref, defineProps } from 'vue';\nimport WeaponShopItem from './WeaponShopItem.vue';\n\nconst props = defineProps({\n  weapon1: {\n    type: Number,\n    default: 0,\n  },\n  weapon2: {\n    type: Number,\n    default: 0,\n  },\n  weapon3: {\n    type: Number,\n    default: 0,\n  },\n  cash: {\n    type: Number,\n    default: 0,\n  },\n});\n\nconst cash = ref(props.cash);\nconst spentCash = ref(0);\nconst showSpent = ref(false);\nconst shakeCash = ref(false); // New state for shaking cash display\n\nfunction updateCash(price) {\n  // Check if price is greater than the available cash\n  if (price > cash.value) {\n    shakeCash.value = true; // Trigger shake animation\n    setTimeout(() => {\n      shakeCash.value = false; // Reset after shaking\n    }, 800); // Duration matches the shake animation\n    return; // Exit the function if cash is insufficient\n  }\n\n  // Update cash and spent cash\n  cash.value -= price;\n  spentCash.value = price;\n  showSpent.value = true;\n\n  setTimeout(() => {\n    showSpent.value = false;\n  }, 1000); // Duration for spent cash display\n}\n</script>\n\n<template>\n  <div class=\"flex flex-col justify-center mt-10\">\n    <!-- Current Cash Display -->\n    <div class=\"flex flex-col items-center text-4xl font-extrabold text-center min-h-28 relative\">\n      <div class=\"flex\">\n        CASH: <span class=\"ml-4 text-green-600\" :class=\"{ shake: shakeCash }\">{{ cash }} $</span>\n      </div>\n\n      <!-- Display Spent Cash with fade-out and slide-down effect -->\n      <transition\n        leave-active-class=\"transition-all duration-1000 linear\"\n        leave-from-class=\"opacity-100 translate-y-0\"\n        leave-to-class=\"opacity-0 translate-y-10\"\n      >\n        <!-- Render only if showSpent is true -->\n        <span v-if=\"showSpent\" class=\"ml-36 mt-10 text-red-600 font-bold absolute\">\n          - {{ spentCash }} $\n        </span>\n      </transition>\n    </div>\n\n    <!-- Weapon Shop Items -->\n    <div class=\"flex\">\n      <WeaponShopItem :image=\"require('@/assets/weapon1.png')\" price=\"200\" :quantity=\"props.weapon1\" name=\"Striker\" class=\"m-3\" @updateCash=\"updateCash\"></WeaponShopItem>\n      <WeaponShopItem :image=\"require('@/assets/weapon2.png')\" price=\"400\" :quantity=\"props.weapon2\" name=\"Devastator\" class=\"m-3\" @updateCash=\"updateCash\"></WeaponShopItem>\n      <WeaponShopItem :image=\"require('@/assets/weapon3.png')\" price=\"600\" :quantity=\"props.weapon3\" name=\"Phantom\" class=\"m-3\" @updateCash=\"updateCash\"></WeaponShopItem>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.shake {\n  animation: shake 0.8s; /* Adjust duration to match keyframe animation */\n}\n\n@keyframes shake {\n  0%, 100% { transform: translate(0, 0); color: red; }\n  25% { transform: translate(2px, 0); color: black; }\n  50% { transform: translate(-2px, 0); color: red; }\n  75% { transform: translate(2px, 0); color: black; }\n  100% { transform: translate(-2px, 0); color: red; }\n}\n</style>\n"],"mappings":"AACA,SAASA,GAAgB,QAAQ,KAAK;AACtC,OAAOC,cAAc,MAAM,sBAAsB;;;;;;;;;;;;;;;;;;;;;;;;;IAEjD,MAAMC,KAAK,GAAGC,OAiBZ;IAEF,MAAMC,IAAI,GAAGJ,GAAG,CAACE,KAAK,CAACE,IAAI,CAAC;IAC5B,MAAMC,SAAS,GAAGL,GAAG,CAAC,CAAC,CAAC;IACxB,MAAMM,SAAS,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC5B,MAAMO,SAAS,GAAGP,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;;IAE9B,SAASQ,UAAUA,CAACC,KAAK,EAAE;MACzB;MACA,IAAIA,KAAK,GAAGL,IAAI,CAACM,KAAK,EAAE;QACtBH,SAAS,CAACG,KAAK,GAAG,IAAI,CAAC,CAAC;QACxBC,UAAU,CAAC,MAAM;UACfJ,SAAS,CAACG,KAAK,GAAG,KAAK,CAAC,CAAC;QAC3B,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QACT,OAAO,CAAC;MACV;;MAEA;MACAN,IAAI,CAACM,KAAK,IAAID,KAAK;MACnBJ,SAAS,CAACK,KAAK,GAAGD,KAAK;MACvBH,SAAS,CAACI,KAAK,GAAG,IAAI;MAEtBC,UAAU,CAAC,MAAM;QACfL,SAAS,CAACI,KAAK,GAAG,KAAK;MACzB,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;IACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}