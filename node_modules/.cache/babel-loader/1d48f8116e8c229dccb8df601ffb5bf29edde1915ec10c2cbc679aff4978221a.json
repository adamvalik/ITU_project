{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col justify-center items-center\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"flex flex-col justify-between h-52 w-full\"\n};\nconst _hoisted_3 = {\n  class: \"text-6xl font-black self-center\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"flex flex-col-reverse justify-between h-52 w-full\"\n};\nconst _hoisted_5 = {\n  class: \"text-6xl font-black self-center\"\n};\nconst _hoisted_6 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$setup.props.side == 'l' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, _toDisplayString($setup.player ? $setup.player.name : 'Loading...'), 1 /* TEXT */), _createVNode($setup[\"TankImage\"], {\n    svg: $setup.svg,\n    class: \"self-end\"\n  }, null, 8 /* PROPS */, [\"svg\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode($setup[\"TankImage\"], {\n    svg: $setup.svg,\n    class: \"self-start flip\"\n  }, null, 8 /* PROPS */, [\"svg\"]), _createElementVNode(\"div\", _hoisted_5, _toDisplayString($setup.player ? $setup.player.name : 'Loading...'), 1 /* TEXT */)])), $setup.player ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createVNode($setup[\"WeaponShop\"], {\n    class: \"mb-14\",\n    weapon: $setup.player.weapon,\n    weapon1: $setup.player.weapon1,\n    weapon2: $setup.player.weapon2,\n    weapon3: $setup.player.weapon3,\n    cash: $setup.player.money,\n    onUpdateCash: $setup.updateCash\n  }, null, 8 /* PROPS */, [\"weapon\", \"weapon1\", \"weapon2\", \"weapon3\", \"cash\"]), _createVNode($setup[\"SkillShop\"], {\n    armor: $setup.player.armor,\n    power: $setup.player.power,\n    speed: $setup.player.speed,\n    skillPoints: $setup.player.skillPoints,\n    onUpdatePoints: $setup.updatePoints\n  }, null, 8 /* PROPS */, [\"armor\", \"power\", \"speed\", \"skillPoints\"])])) : (_openBlock(), _createElementBlock(\"div\", {\n    key: 3,\n    onClick: $setup.savePlayer\n  }, \"Loading player data...\"))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","$setup","props","side","_hoisted_2","_createElementVNode","_hoisted_3","_toDisplayString","player","name","_createVNode","svg","_hoisted_4","_hoisted_5","_hoisted_6","weapon","weapon1","weapon2","weapon3","cash","money","onUpdateCash","updateCash","armor","power","speed","skillPoints","onUpdatePoints","updatePoints","onClick","savePlayer"],"sources":["/home/antiphy/ITU/ITU_project/src/components/Shop/PlayerShopCard.vue"],"sourcesContent":["<script setup>\nimport {defineProps, ref, onMounted, defineExpose} from 'vue';\nimport axios from 'axios';\nimport WeaponShop from './WeaponShop.vue';\nimport SkillShop from './SkillShop.vue';\nimport TankImage from './TankImage.vue';\n\nconst props = defineProps({\n  player_id:{\n    type: Number,\n    default: 0\n  },\n  side:{\n    type: String,\n    default: \"l\"\n  }\n});\n\n// Reactive reference to hold player data\nconst player = ref(null);\nconst svg = ref(null)\n\n// Function to fetch player data\nasync function fetchPlayerData(playerId) {\n  try {\n    const response = await axios.get(`http://localhost:8000/players/${playerId}`);\n    player.value = response.data; // Set player data\n  } catch (error) {\n    console.error('Error fetching player data:', error);\n  }\n}\n\nasync function fetchTankData(playerId){\n      try {\n        const response = await axios.get(`http://localhost:8000/players/${playerId}/tank`);\n        svg.value = response.data; // Set the SVG data\n      } catch (error) {\n        console.error('Error fetching tank data:', error);\n      }\n}\n\n// Lifecycle hook to fetch player data when the component is mounted\nonMounted(() => {\n   // Change this to the desired player ID\n  fetchPlayerData(props.player_id);\n  fetchTankData(props.player_id);\n});\n\nfunction updatePoints(usedPoints, name) {\n  if(name === \"Armor\"){\n    player.value.armor -= usedPoints;\n    \n  } else if(name === \"Power\"){\n    player.value.power -= usedPoints;\n    \n  } else if(name === \"Speed\"){\n    player.value.speed -= usedPoints;\n  \n  }\n  player.value.skillPoints += usedPoints;\n}\n\nfunction updateCash(cash, name, quantity) {\n  player.value.money = cash;\n  if(name === \"Striker\"){\n    player.value.weapon1 = quantity;\n \n  } else if(name === \"Devastator\"){\n    player.value.weapon2 = quantity;\n    \n  } else if(name === \"Phantom\"){\n    player.value.weapon3 = quantity;\n    \n  }\n}\n\ndefineExpose({\n  savePlayer\n});\n\nfunction savePlayer() {\n  console.log(\"Money\",player.value.money);\n  console.log(\"W1:\",player.value.weapon1);\n  console.log(\"W2:\",player.value.weapon2);\n  console.log(\"W3:\",player.value.weapon3);\n  console.log(\"Armor:\",player.value.armor);\n  console.log(\"Power:\",player.value.power);\n  console.log(\"Speed:\",player.value.speed);\n  console.log(\"Free Pts:\",player.value.skillPoints);\n\n\n}\n\n</script>\n<template>\n    \n        <div class=\"flex flex-col justify-center items-center\">\n          <div v-if=\"props.side == 'l'\" class=\"flex flex-col justify-between h-52 w-full\">\n            <div class=\"text-6xl font-black self-center\">\n              {{ player ? player.name : 'Loading...' }}\n            </div>\n            <TankImage :svg=\"svg\" class=\"self-end \"></TankImage>\n          </div>\n          <div v-else class=\"flex flex-col-reverse justify-between h-52 w-full\">\n            <TankImage :svg=\"svg\" class=\"self-start flip\"></TankImage>    \n            <div class=\"text-6xl font-black self-center\">\n              {{ player ? player.name : 'Loading...' }}\n            </div>\n          </div>\n\n            <div v-if=\"player\">\n                <WeaponShop class=\"mb-14\" :weapon=\"player.weapon\" :weapon1=\"player.weapon1\" :weapon2=\"player.weapon2\" :weapon3=\"player.weapon3\" :cash=\"player.money\" @updateCash=\"updateCash\"></WeaponShop>\n                <SkillShop  :armor=\"player.armor\" :power=\"player.power\" :speed=\"player.speed\" :skillPoints=\"player.skillPoints\" @updatePoints=\"updatePoints\"></SkillShop>\n                \n            </div>\n            <div @click=\"savePlayer\" v-else>Loading player data...</div>\n        </div>\n</template>\n\n<style scoped>\n/* CSS to flip the div along the Y-axis */\n.flip {\n  transform: scaleX(-1);\n  /* Optional: If you want to maintain the same direction of text */\n  direction: rtl; \n}\n</style>"],"mappings":";;EAgGaA,KAAK,EAAC;AAA2C;;EAhG9DC,GAAA;EAiGwCD,KAAK,EAAC;;;EAC7BA,KAAK,EAAC;AAAiC;;EAlGxDC,GAAA;EAuGsBD,KAAK,EAAC;;;EAEXA,KAAK,EAAC;AAAiC;;EAzGxDC,GAAA;AAAA;;uBAgGQC,mBAAA,CAoBM,OApBNC,UAoBM,GAnBOC,MAAA,CAAAC,KAAK,CAACC,IAAI,W,cAArBJ,mBAAA,CAKM,OALNK,UAKM,GAJJC,mBAAA,CAEM,OAFNC,UAEM,EAAAC,gBAAA,CADDN,MAAA,CAAAO,MAAM,GAAGP,MAAA,CAAAO,MAAM,CAACC,IAAI,iCAEzBC,YAAA,CAAoDT,MAAA;IAAxCU,GAAG,EAAEV,MAAA,CAAAU,GAAG;IAAEd,KAAK,EAAC;uDAE9BE,mBAAA,CAKM,OALNa,UAKM,GAJJF,YAAA,CAA0DT,MAAA;IAA9CU,GAAG,EAAEV,MAAA,CAAAU,GAAG;IAAEd,KAAK,EAAC;oCAC5BQ,mBAAA,CAEM,OAFNQ,UAEM,EAAAN,gBAAA,CADDN,MAAA,CAAAO,MAAM,GAAGP,MAAA,CAAAO,MAAM,CAACC,IAAI,gC,IAIdR,MAAA,CAAAO,MAAM,I,cAAjBT,mBAAA,CAIM,OAlHlBe,UAAA,GA+GgBJ,YAAA,CAA2LT,MAAA;IAA/KJ,KAAK,EAAC,OAAO;IAAEkB,MAAM,EAAEd,MAAA,CAAAO,MAAM,CAACO,MAAM;IAAGC,OAAO,EAAEf,MAAA,CAAAO,MAAM,CAACQ,OAAO;IAAGC,OAAO,EAAEhB,MAAA,CAAAO,MAAM,CAACS,OAAO;IAAGC,OAAO,EAAEjB,MAAA,CAAAO,MAAM,CAACU,OAAO;IAAGC,IAAI,EAAElB,MAAA,CAAAO,MAAM,CAACY,KAAK;IAAGC,YAAU,EAAEpB,MAAA,CAAAqB;gFAClKZ,YAAA,CAAyJT,MAAA;IAA5IsB,KAAK,EAAEtB,MAAA,CAAAO,MAAM,CAACe,KAAK;IAAGC,KAAK,EAAEvB,MAAA,CAAAO,MAAM,CAACgB,KAAK;IAAGC,KAAK,EAAExB,MAAA,CAAAO,MAAM,CAACiB,KAAK;IAAGC,WAAW,EAAEzB,MAAA,CAAAO,MAAM,CAACkB,WAAW;IAAGC,cAAY,EAAE1B,MAAA,CAAA2B;0FAGnI7B,mBAAA,CAA4D;IAnHxED,GAAA;IAmHkB+B,OAAK,EAAE5B,MAAA,CAAA6B;KAAmB,wBAAsB,G","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}