{"ast":null,"code":"import TankSelector from '@/components/TankSelector.vue';\nimport axios from 'axios';\nexport default {\n  components: {\n    TankSelector\n  },\n  data() {\n    return {\n      loading: true,\n      player1: {\n        name: null,\n        tankType: 0,\n        color: '#06B559',\n        armour: 0,\n        power: 0,\n        speed: 0,\n        skillPoints: 0,\n        money: 1000,\n        fuel: 250,\n        health: 100,\n        weapon1: 0,\n        weapon2: 0,\n        weapon3: 0\n      },\n      player2: {\n        name: null,\n        tankType: 1,\n        color: '#0D6BBD',\n        armour: 0,\n        power: 0,\n        speed: 0,\n        skillPoints: 0,\n        money: 1000,\n        fuel: 250,\n        health: 100,\n        weapon1: 0,\n        weapon2: 0,\n        weapon3: 0\n      }\n    };\n  },\n  async mounted() {\n    await this.fetchData();\n  },\n  methods: {\n    // Update tank selection for a player\n    updateTankSelection(player, selectedTank) {\n      if (player === 1) {\n        this.player1.tankType = selectedTank;\n      } else {\n        this.player2.tankType = selectedTank;\n      }\n    },\n    // Update color selection for a player\n    updateColorSelection(player, selectedColor) {\n      if (player === 1) {\n        this.player1.color = selectedColor;\n      } else {\n        this.player2.color = selectedColor;\n      }\n    },\n    async fetchData() {\n      try {\n        const response = await axios.get('http://localhost:8000/players');\n        console.log('Fetched players:', response.data);\n        const players = response.data;\n        if (players[0]) {\n          console.log('Player 1 color:', players[0].color);\n          this.player1 = players[0];\n        }\n        if (players[1]) {\n          console.log('Player 2 color:', players[1].color);\n          this.player2 = players[1];\n        }\n        this.loading = false; // Set loading to false after fetching data\n      } catch (error) {\n        console.error('Error fetching players:', error);\n        this.loading = false; // Set loading to false even if there's an error\n      }\n    },\n    async submitData() {\n      // Ensure default names if not provided\n      if (!this.player1.name) {\n        this.player1.name = \"Player 1\";\n      }\n      if (!this.player2.name) {\n        this.player2.name = \"Player 2\";\n      }\n      console.log(\"Player 1 data:\", this.player1); // Log the data being sent\n      console.log(\"Player 2 data:\", this.player2); // Log the data being sent\n\n      try {\n        await axios.post('http://localhost:8000/players/0', this.player1);\n        await axios.post('http://localhost:8000/players/1', this.player2);\n      } catch (error) {\n        console.error('Error submitting player data:', error);\n      }\n    },\n    async deleteData() {\n      try {\n        await axios.delete('http://localhost:8000/players');\n      } catch (error) {\n        console.error('Error deleting player data:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["TankSelector","axios","components","data","loading","player1","name","tankType","color","armour","power","speed","skillPoints","money","fuel","health","weapon1","weapon2","weapon3","player2","mounted","fetchData","methods","updateTankSelection","player","selectedTank","updateColorSelection","selectedColor","response","get","console","log","players","error","submitData","post","deleteData","delete"],"sources":["/home/antiphy/ITU/ITU_project/src/views/ChooseTankView.vue"],"sourcesContent":["<template>\n  <div class=\"flex h-screen\">\n    <!-- Left Side (Player 1) -->\n    <div class=\"w-1/2 flex flex-col items-center justify-center border-r-2 border-gray-300\">\n\n      <!-- Player 1 Name Input -->\n      <div class=\"mb-4\">\n        <label class=\"block font-semibold\">Enter Name:</label>\n        <input v-model=\"player1.name\" type=\"text\" placeholder=\"Player 1 Name\" class=\"border rounded px-3 py-2 mt-2\">\n      </div>\n\n      <!-- Player 1 Tank Type -->\n      <!-- Conditionally render the TankSelector once data has been fetched -->\n      <tank-selector v-if=\"!loading\" @tank-selected=\"updateTankSelection(1, $event)\" @color-selected=\"updateColorSelection(1, $event)\" :defaultColor=\"player1.color\" :defaultTankType=\"player1.tankType\" />\n\n    </div>\n\n    <!-- Right Side (Player 2) -->\n    <div class=\"w-1/2 flex flex-col items-center justify-center\">\n\n      <!-- Player 2 Name Input -->\n      <div class=\"mb-4\">\n        <label class=\"block font-semibold\">Enter Name:</label>\n        <input v-model=\"player2.name\" type=\"text\" placeholder=\"Player 2 Name\" class=\"border rounded px-3 py-2 mt-2\">\n      </div>\n\n      <!-- Player 2 Tank Type -->\n      <!-- Conditionally render the TankSelector once data has been fetched -->\n      <tank-selector v-if=\"!loading\" @tank-selected=\"updateTankSelection(2, $event)\" @color-selected=\"updateColorSelection(2, $event)\" :is-flipped=\"true\" :defaultColor=\"player2.color\" :defaultTankType=\"player2.tankType\" />\n    </div>\n\n    <!-- Footer Buttons -->\n    <div class=\"absolute bottom-4 left-0 right-0 flex justify-between px-8\">\n      <!-- Back to Main Page Button -->\n      <router-link to=\"/\" @click=\"deleteData\" class=\"px-6 py-3 bg-gray-500 text-white font-semibold rounded-lg hover:bg-gray-600 transition duration-200\">\n        Back to Main Page\n      </router-link>\n\n      <!-- Proceed to Game Button -->\n      <router-link to=\"/chooseMap\" @click=\"submitData\" class=\"px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition duration-200\">\n        Choose Map\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TankSelector from '@/components/TankSelector.vue';\nimport axios from 'axios';\n\nexport default {\n  components: {\n    TankSelector\n  },\n  data() {\n    return {\n      loading: true, \n      player1: {\n        name: null,\n        tankType: 0,\n        color: '#06B559',\n        armour: 0,\n        power: 0,\n        speed: 0,\n        skillPoints: 0, \n        money: 1000,\n        fuel: 250,\n        health: 100,\n        weapon1: 0,\n        weapon2: 0,\n        weapon3: 0,\n      },\n      player2: {\n        name: null,\n        tankType: 1,\n        color: '#0D6BBD',\n        armour: 0,\n        power: 0,\n        speed: 0,\n        skillPoints: 0,\n        money: 1000,\n        fuel: 250,\n        health: 100,\n        weapon1: 0,\n        weapon2: 0,\n        weapon3: 0,\n      }\n    };\n  },\n  async mounted() {\n    await this.fetchData();\n  },\n  methods: {\n    // Update tank selection for a player\n    updateTankSelection(player, selectedTank) {\n      if (player === 1) {\n        this.player1.tankType = selectedTank;\n      } else {\n        this.player2.tankType = selectedTank;\n      }\n    },\n\n    // Update color selection for a player\n    updateColorSelection(player, selectedColor) {\n      if (player === 1) {\n        this.player1.color = selectedColor;\n      } else {\n        this.player2.color = selectedColor;\n      }\n    },\n\n    async fetchData() {\n      try {\n        const response = await axios.get('http://localhost:8000/players');\n        console.log('Fetched players:', response.data);\n        const players = response.data;\n\n        if (players[0]) {\n          console.log('Player 1 color:', players[0].color);\n          this.player1 = players[0];\n        }\n        if (players[1]) {\n          console.log('Player 2 color:', players[1].color);\n          this.player2 = players[1];\n        }\n        \n        this.loading = false; // Set loading to false after fetching data\n\n      } catch (error) {\n        console.error('Error fetching players:', error);\n        this.loading = false; // Set loading to false even if there's an error\n      }\n    },\n\n    async submitData() {\n      // Ensure default names if not provided\n      if (!this.player1.name) {\n        this.player1.name = \"Player 1\";\n      }\n      if (!this.player2.name) {\n        this.player2.name = \"Player 2\";\n      }\n\n      console.log(\"Player 1 data:\", this.player1);  // Log the data being sent\n      console.log(\"Player 2 data:\", this.player2);  // Log the data being sent\n\n      try {\n        await axios.post('http://localhost:8000/players/0', this.player1);\n        await axios.post('http://localhost:8000/players/1', this.player2);\n      } catch (error) {\n        console.error('Error submitting player data:', error);\n      }\n    },\n\n    async deleteData() {\n      try {\n        await axios.delete('http://localhost:8000/players');\n      } catch (error) {\n        console.error('Error deleting player data:', error);\n      }\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n  /* You can add additional styling if needed */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}