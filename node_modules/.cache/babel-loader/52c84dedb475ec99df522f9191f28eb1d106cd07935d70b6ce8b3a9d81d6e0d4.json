{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex h-screen\"\n};\nconst _hoisted_2 = {\n  class: \"w-1/2 flex flex-col items-center justify-center border-r-2 border-gray-300\"\n};\nconst _hoisted_3 = {\n  class: \"mb-4\"\n};\nconst _hoisted_4 = {\n  class: \"w-1/2 flex flex-col items-center justify-center\"\n};\nconst _hoisted_5 = {\n  class: \"mb-4\"\n};\nconst _hoisted_6 = {\n  class: \"absolute bottom-4 left-0 right-0 flex justify-between px-8\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_tank_selector = _resolveComponent(\"tank-selector\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Left Side (Player 1) \"), _createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Player 1 Name Input \"), _createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    class: \"block font-semibold\"\n  }, \"Enter Name:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.player1.name = $event),\n    type: \"text\",\n    placeholder: \"Player 1 Name\",\n    class: \"border rounded px-3 py-2 mt-2\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.player1.name]])]), _createCommentVNode(\" Player 1 Tank Type \"), _createCommentVNode(\" Conditionally render the TankSelector once data has been fetched \"), !$data.loading ? (_openBlock(), _createBlock(_component_tank_selector, {\n    key: 0,\n    onTankSelected: _cache[1] || (_cache[1] = $event => $options.updateTankSelection(1, $event)),\n    onColorSelected: _cache[2] || (_cache[2] = $event => $options.updateColorSelection(1, $event)),\n    defaultColor: $data.player1.color,\n    defaultTankType: $data.player1.tankType\n  }, null, 8 /* PROPS */, [\"defaultColor\", \"defaultTankType\"])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Right Side (Player 2) \"), _createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" Player 2 Name Input \"), _createElementVNode(\"div\", _hoisted_5, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    class: \"block font-semibold\"\n  }, \"Enter Name:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.player2.name = $event),\n    type: \"text\",\n    placeholder: \"Player 2 Name\",\n    class: \"border rounded px-3 py-2 mt-2\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.player2.name]])]), _createCommentVNode(\" Player 2 Tank Type \"), _createCommentVNode(\" Conditionally render the TankSelector once data has been fetched \"), !$data.loading ? (_openBlock(), _createBlock(_component_tank_selector, {\n    key: 0,\n    onTankSelected: _cache[4] || (_cache[4] = $event => $options.updateTankSelection(2, $event)),\n    onColorSelected: _cache[5] || (_cache[5] = $event => $options.updateColorSelection(2, $event)),\n    \"is-flipped\": true,\n    defaultColor: $data.player2.color,\n    defaultTankType: $data.player2.tankType\n  }, null, 8 /* PROPS */, [\"defaultColor\", \"defaultTankType\"])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Footer Buttons \"), _createElementVNode(\"div\", _hoisted_6, [_createCommentVNode(\" Back to Main Page Button \"), _createVNode(_component_router_link, {\n    to: \"/\",\n    onClick: $options.deleteData,\n    class: \"px-6 py-3 bg-gray-500 text-white font-semibold rounded-lg hover:bg-gray-600 transition duration-200\"\n  }, {\n    default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\" Back to Main Page \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createCommentVNode(\" Proceed to Game Button \"), _createVNode(_component_router_link, {\n    to: \"/chooseMap\",\n    onClick: $options.submitData,\n    class: \"px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition duration-200\"\n  }, {\n    default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\" Choose Map \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_cache","$event","$data","player1","name","type","placeholder","loading","_createBlock","_component_tank_selector","key","onTankSelected","$options","updateTankSelection","onColorSelected","updateColorSelection","defaultColor","color","defaultTankType","tankType","_hoisted_4","_hoisted_5","player2","_hoisted_6","_createVNode","_component_router_link","to","onClick","deleteData","default","_withCtx","_createTextVNode","_","submitData"],"sources":["/home/antiphy/ITU/ITU_project/src/views/ChooseTankView.vue"],"sourcesContent":["<template>\n  <div class=\"flex h-screen\">\n    <!-- Left Side (Player 1) -->\n    <div class=\"w-1/2 flex flex-col items-center justify-center border-r-2 border-gray-300\">\n\n      <!-- Player 1 Name Input -->\n      <div class=\"mb-4\">\n        <label class=\"block font-semibold\">Enter Name:</label>\n        <input v-model=\"player1.name\" type=\"text\" placeholder=\"Player 1 Name\" class=\"border rounded px-3 py-2 mt-2\">\n      </div>\n\n      <!-- Player 1 Tank Type -->\n      <!-- Conditionally render the TankSelector once data has been fetched -->\n      <tank-selector v-if=\"!loading\" @tank-selected=\"updateTankSelection(1, $event)\" @color-selected=\"updateColorSelection(1, $event)\" :defaultColor=\"player1.color\" :defaultTankType=\"player1.tankType\" />\n\n    </div>\n\n    <!-- Right Side (Player 2) -->\n    <div class=\"w-1/2 flex flex-col items-center justify-center\">\n\n      <!-- Player 2 Name Input -->\n      <div class=\"mb-4\">\n        <label class=\"block font-semibold\">Enter Name:</label>\n        <input v-model=\"player2.name\" type=\"text\" placeholder=\"Player 2 Name\" class=\"border rounded px-3 py-2 mt-2\">\n      </div>\n\n      <!-- Player 2 Tank Type -->\n      <!-- Conditionally render the TankSelector once data has been fetched -->\n      <tank-selector v-if=\"!loading\" @tank-selected=\"updateTankSelection(2, $event)\" @color-selected=\"updateColorSelection(2, $event)\" :is-flipped=\"true\" :defaultColor=\"player2.color\" :defaultTankType=\"player2.tankType\" />\n    </div>\n\n    <!-- Footer Buttons -->\n    <div class=\"absolute bottom-4 left-0 right-0 flex justify-between px-8\">\n      <!-- Back to Main Page Button -->\n      <router-link to=\"/\" @click=\"deleteData\" class=\"px-6 py-3 bg-gray-500 text-white font-semibold rounded-lg hover:bg-gray-600 transition duration-200\">\n        Back to Main Page\n      </router-link>\n\n      <!-- Proceed to Game Button -->\n      <router-link to=\"/chooseMap\" @click=\"submitData\" class=\"px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition duration-200\">\n        Choose Map\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TankSelector from '@/components/TankSelector.vue';\nimport axios from 'axios';\n\nexport default {\n  components: {\n    TankSelector\n  },\n  data() {\n    return {\n      loading: true, \n      player1: {\n        name: null,\n        tankType: 0,\n        color: '#06B559',\n        armour: 0,\n        power: 0,\n        speed: 0,\n        skillPoints: 0, \n        money: 1000,\n        fuel: 250,\n        health: 100,\n        weapon1: 0,\n        weapon2: 0,\n        weapon3: 0,\n      },\n      player2: {\n        name: null,\n        tankType: 1,\n        color: '#0D6BBD',\n        armour: 0,\n        power: 0,\n        speed: 0,\n        skillPoints: 0,\n        money: 1000,\n        fuel: 250,\n        health: 100,\n        weapon1: 0,\n        weapon2: 0,\n        weapon3: 0,\n      }\n    };\n  },\n  async mounted() {\n    await this.fetchData();\n  },\n  methods: {\n    // Update tank selection for a player\n    updateTankSelection(player, selectedTank) {\n      if (player === 1) {\n        this.player1.tankType = selectedTank;\n      } else {\n        this.player2.tankType = selectedTank;\n      }\n    },\n\n    // Update color selection for a player\n    updateColorSelection(player, selectedColor) {\n      if (player === 1) {\n        this.player1.color = selectedColor;\n      } else {\n        this.player2.color = selectedColor;\n      }\n    },\n\n    async fetchData() {\n      try {\n        const response = await axios.get('http://localhost:8000/players');\n        console.log('Fetched players:', response.data);\n        const players = response.data;\n\n        if (players[0]) {\n          console.log('Player 1 color:', players[0].color);\n          this.player1 = players[0];\n        }\n        if (players[1]) {\n          console.log('Player 2 color:', players[1].color);\n          this.player2 = players[1];\n        }\n        \n        this.loading = false; // Set loading to false after fetching data\n\n      } catch (error) {\n        console.error('Error fetching players:', error);\n        this.loading = false; // Set loading to false even if there's an error\n      }\n    },\n\n    async submitData() {\n      // Ensure default names if not provided\n      if (!this.player1.name) {\n        this.player1.name = \"Player 1\";\n      }\n      if (!this.player2.name) {\n        this.player2.name = \"Player 2\";\n      }\n\n      console.log(\"Player 1 data:\", this.player1);  // Log the data being sent\n      console.log(\"Player 2 data:\", this.player2);  // Log the data being sent\n\n      try {\n        await axios.post('http://localhost:8000/players/0', this.player1);\n        await axios.post('http://localhost:8000/players/1', this.player2);\n      } catch (error) {\n        console.error('Error submitting player data:', error);\n      }\n    },\n\n    async deleteData() {\n      try {\n        await axios.delete('http://localhost:8000/players');\n      } catch (error) {\n        console.error('Error deleting player data:', error);\n      }\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n  /* You can add additional styling if needed */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}